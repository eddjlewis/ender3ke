
# --- Fan on PB14 that cools the bay ---
[temperature_fan electronics_cooling]
pin: PB14

sensor_type: Generic 3950 
sensor_pin: PA5     
target_temp: 40                      # fan starts above this temp
min_temp: 0
max_temp: 80
control: watermark                   # simple on/off
max_power: 1.0
kick_start_time: 0.5
hardware_pwm: True
off_below: 0.20

# Optional runtime macro to change threshold
[gcode_macro SET_EBAY_TARGET]
gcode:
  {% if 'T' in params %}
    SET_TEMPERATURE_FAN_TARGET temperature_fan=electronics_cooling target={params.T|float}
    RESPOND MSG="electronics_cooling target set to {params.T}Â°C"
  {% else %}
    RESPOND MSG="Usage: SET_EBAY_TARGET T=<degC>"
  {% endif %}
